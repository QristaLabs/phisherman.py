{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Source Code : github.com/QristaLabs/phisherman.py PyPi : pypi.org/project/phisherman.py Phisherman.py is an async API wrapper made in Python for Phisherman.gg which is a centralised database and scam links and is mainly designed for Discord bots to check URLs for any phishing links","title":"Home"},{"location":"code-reference/","text":"Code Reference app Client Client class for the Phiserman API Wrapper. Attributes: Name Type Description token str API Token from phisherman.gg base_url str Base URL to access the API session aiohttp.ClientSession For creating client session and to make requests Source code in phisherman/app.py class Client : \"\"\" Client class for the Phiserman API Wrapper. Attributes ---------- token : str API Token from phisherman.gg base_url : str Base URL to access the API session : aiohttp.ClientSession For creating client session and to make requests \"\"\" USER_AGENT = f \"Phisherman API wrapper. Python/ { PYTHON_VERSION } Aiohttp/ { aiohttp . __version__ } \" def __init__ ( self , token : str ) -> None : \"\"\" Construct an application Parameters ---------- token : str Phisherman.gg API Token version : t.Optional[int] Optional Argument for the API Version, Default to 1 for now \"\"\" self . token = token self . _session = None self . _lock = asyncio . Lock () async def close ( self ) -> None : \"\"\"Close the client session with this async function\"\"\" if self . _session is not None : await self . _session . close () async def fetch ( self , route : Route , ** kwargs ) -> t . Optional [ dict ]: \"\"\" Fetching a response from the API Parameters ---------- route : Route The API route you want to make a call to Returns ------- t.Optional[dict] \"\"\" headers = kwargs . pop ( \"headers\" , {}) data = kwargs . pop ( \"data\" , None ) text_response = kwargs . pop ( \"text_response\" , False ) return_status = kwargs . pop ( \"return_status\" , False ) auth_required = kwargs . pop ( \"auth_required\" , True ) headers = { \"User-Agent\" : self . USER_AGENT , ** headers } if auth_required : headers [ \"Authorization\" ] = f \"Bearer { self . token } \" if not self . _session : self . _session = aiohttp . ClientSession () async with self . _lock : async with self . _session . request ( route . method , route . url , headers = headers , data = data , ** kwargs ) as res : if return_status : return res . status if res . status == 200 or 201 : if text_response : data = await res . text () else : data = await res . json () else : data = None return data async def check_domain ( self , domain : str ) -> bool : \"\"\" Checks a domain, Returns True if its suspicious else False NOTE: Even if it returns false doesn't mean the domain isn't suspicious it's just that the domain isn't registered in the API's Database or you might have entered incorrect domain Parameters ---------- domain : str Domain you want to look for (Don't include 'https://') Returns ------- bool \"\"\" data = await self . fetch ( Route ( \"GET\" , f \"/domains/ { domain } \" ), auth_required = False ) if not data : return False if \"missing permission\" in data : raise MissingPermission ( \"You don't have permission to access this API\" ) return True if data == b \"true\" else False async def fetch_info ( self , domain : str ) -> dict : \"\"\" Fetch's Information for a domain Parameters ---------- domain : str Domain you want to look for Returns ------- dict \"\"\" domain = domain . replace ( \"https://\" , \"\" ) . replace ( \"http://\" , \"\" ) data = await self . fetch ( Route ( \"GET\" , f \"/domains/info/ { domain } \" )) if not data : return {} success = data . get ( \"success\" , False ) if not success : if data . get ( \"message\" , \"\" ) == \"missing permission\" : raise InvalidRequest ( \"Invalid Request, Check your domain.\" ) return data [ domain ] async def report_phish ( self , domain : str , guild : t . Optional [ int ] = None ) -> bool : \"\"\" Report a site for phishing Parameters ---------- domain : str Domain you want to look for (Don't include 'https://') guild : t.Optional[int] Discord Guild ID you found the site link in Returns ------- bool \"\"\" data = None if guild : data = { \"guild\" : str ( guild )} status_code = await self . fetch ( Route ( \"POST\" , f \"/domains/report/ { domain } \" ), data = data ) if status_code == 204 : return True else : return False __init__ ( self , token ) special Construct an application Parameters: Name Type Description Default token str Phisherman.gg API Token required version t.Optional[int] Optional Argument for the API Version, Default to 1 for now 'to' Source code in phisherman/app.py def __init__ ( self , token : str ) -> None : \"\"\" Construct an application Parameters ---------- token : str Phisherman.gg API Token version : t.Optional[int] Optional Argument for the API Version, Default to 1 for now \"\"\" self . token = token self . _session = None self . _lock = asyncio . Lock () check_domain ( self , domain ) async Checks a domain, Returns True if its suspicious else False NOTE: Even if it returns false doesn't mean the domain isn't suspicious it's just that the domain isn't registered in the API's Database or you might have entered incorrect domain Parameters: Name Type Description Default domain str Domain you want to look for (Don't include 'https://') required Source code in phisherman/app.py async def check_domain ( self , domain : str ) -> bool : \"\"\" Checks a domain, Returns True if its suspicious else False NOTE: Even if it returns false doesn't mean the domain isn't suspicious it's just that the domain isn't registered in the API's Database or you might have entered incorrect domain Parameters ---------- domain : str Domain you want to look for (Don't include 'https://') Returns ------- bool \"\"\" data = await self . fetch ( Route ( \"GET\" , f \"/domains/ { domain } \" ), auth_required = False ) if not data : return False if \"missing permission\" in data : raise MissingPermission ( \"You don't have permission to access this API\" ) return True if data == b \"true\" else False close ( self ) async Close the client session with this async function Source code in phisherman/app.py async def close ( self ) -> None : \"\"\"Close the client session with this async function\"\"\" if self . _session is not None : await self . _session . close () fetch ( self , route , ** kwargs ) async Fetching a response from the API Parameters: Name Type Description Default route Route The API route you want to make a call to required Source code in phisherman/app.py async def fetch ( self , route : Route , ** kwargs ) -> t . Optional [ dict ]: \"\"\" Fetching a response from the API Parameters ---------- route : Route The API route you want to make a call to Returns ------- t.Optional[dict] \"\"\" headers = kwargs . pop ( \"headers\" , {}) data = kwargs . pop ( \"data\" , None ) text_response = kwargs . pop ( \"text_response\" , False ) return_status = kwargs . pop ( \"return_status\" , False ) auth_required = kwargs . pop ( \"auth_required\" , True ) headers = { \"User-Agent\" : self . USER_AGENT , ** headers } if auth_required : headers [ \"Authorization\" ] = f \"Bearer { self . token } \" if not self . _session : self . _session = aiohttp . ClientSession () async with self . _lock : async with self . _session . request ( route . method , route . url , headers = headers , data = data , ** kwargs ) as res : if return_status : return res . status if res . status == 200 or 201 : if text_response : data = await res . text () else : data = await res . json () else : data = None return data fetch_info ( self , domain ) async Fetch's Information for a domain Parameters: Name Type Description Default domain str Domain you want to look for required Source code in phisherman/app.py async def fetch_info ( self , domain : str ) -> dict : \"\"\" Fetch's Information for a domain Parameters ---------- domain : str Domain you want to look for Returns ------- dict \"\"\" domain = domain . replace ( \"https://\" , \"\" ) . replace ( \"http://\" , \"\" ) data = await self . fetch ( Route ( \"GET\" , f \"/domains/info/ { domain } \" )) if not data : return {} success = data . get ( \"success\" , False ) if not success : if data . get ( \"message\" , \"\" ) == \"missing permission\" : raise InvalidRequest ( \"Invalid Request, Check your domain.\" ) return data [ domain ] report_phish ( self , domain , guild = None ) async Report a site for phishing Parameters: Name Type Description Default domain str Domain you want to look for (Don't include 'https://') required guild Optional[int] Discord Guild ID you found the site link in None Source code in phisherman/app.py async def report_phish ( self , domain : str , guild : t . Optional [ int ] = None ) -> bool : \"\"\" Report a site for phishing Parameters ---------- domain : str Domain you want to look for (Don't include 'https://') guild : t.Optional[int] Discord Guild ID you found the site link in Returns ------- bool \"\"\" data = None if guild : data = { \"guild\" : str ( guild )} status_code = await self . fetch ( Route ( \"POST\" , f \"/domains/report/ { domain } \" ), data = data ) if status_code == 204 : return True else : return False route Route Class used for constructing API endpoints with a given base URL Attributes: Name Type Description method str Method for the API Call path str Endpoints for the API Source code in phisherman/route.py class Route : \"\"\" Class used for constructing API endpoints with a given base URL Attributes ---------- method : str Method for the API Call path : str Endpoints for the API \"\"\" BASE_URL = \"https://api.phisherman.gg/v1\" def __init__ ( self , method : str , path : str ) -> None : \"\"\" Construct a route Parameters ---------- method : str Method for the API Call path : str Endpoints for the API \"\"\" self . method = method self . path = path @property def base_url ( self ) -> str : \"\"\"Base URL\"\"\" return self . BASE_URL @base_url . setter def base_url ( self , url : str ) -> None : \"\"\" Base URL setter Parameters ---------- url : str the URL you want to set \"\"\" self . BASE_URL = url @property def url ( self ) -> str : \"\"\"Return's the route i.e the base URL plus the given path\"\"\" return self . base_url + self . path base_url : str property writable Base URL url : str property readonly Return's the route i.e the base URL plus the given path __init__ ( self , method , path ) special Construct a route Parameters: Name Type Description Default method str Method for the API Call required path str Endpoints for the API required Source code in phisherman/route.py def __init__ ( self , method : str , path : str ) -> None : \"\"\" Construct a route Parameters ---------- method : str Method for the API Call path : str Endpoints for the API \"\"\" self . method = method self . path = path","title":"Code Reference"},{"location":"code-reference/#code-reference","text":"","title":"Code Reference"},{"location":"code-reference/#phisherman.app","text":"","title":"app"},{"location":"code-reference/#phisherman.app.Client","text":"Client class for the Phiserman API Wrapper. Attributes: Name Type Description token str API Token from phisherman.gg base_url str Base URL to access the API session aiohttp.ClientSession For creating client session and to make requests Source code in phisherman/app.py class Client : \"\"\" Client class for the Phiserman API Wrapper. Attributes ---------- token : str API Token from phisherman.gg base_url : str Base URL to access the API session : aiohttp.ClientSession For creating client session and to make requests \"\"\" USER_AGENT = f \"Phisherman API wrapper. Python/ { PYTHON_VERSION } Aiohttp/ { aiohttp . __version__ } \" def __init__ ( self , token : str ) -> None : \"\"\" Construct an application Parameters ---------- token : str Phisherman.gg API Token version : t.Optional[int] Optional Argument for the API Version, Default to 1 for now \"\"\" self . token = token self . _session = None self . _lock = asyncio . Lock () async def close ( self ) -> None : \"\"\"Close the client session with this async function\"\"\" if self . _session is not None : await self . _session . close () async def fetch ( self , route : Route , ** kwargs ) -> t . Optional [ dict ]: \"\"\" Fetching a response from the API Parameters ---------- route : Route The API route you want to make a call to Returns ------- t.Optional[dict] \"\"\" headers = kwargs . pop ( \"headers\" , {}) data = kwargs . pop ( \"data\" , None ) text_response = kwargs . pop ( \"text_response\" , False ) return_status = kwargs . pop ( \"return_status\" , False ) auth_required = kwargs . pop ( \"auth_required\" , True ) headers = { \"User-Agent\" : self . USER_AGENT , ** headers } if auth_required : headers [ \"Authorization\" ] = f \"Bearer { self . token } \" if not self . _session : self . _session = aiohttp . ClientSession () async with self . _lock : async with self . _session . request ( route . method , route . url , headers = headers , data = data , ** kwargs ) as res : if return_status : return res . status if res . status == 200 or 201 : if text_response : data = await res . text () else : data = await res . json () else : data = None return data async def check_domain ( self , domain : str ) -> bool : \"\"\" Checks a domain, Returns True if its suspicious else False NOTE: Even if it returns false doesn't mean the domain isn't suspicious it's just that the domain isn't registered in the API's Database or you might have entered incorrect domain Parameters ---------- domain : str Domain you want to look for (Don't include 'https://') Returns ------- bool \"\"\" data = await self . fetch ( Route ( \"GET\" , f \"/domains/ { domain } \" ), auth_required = False ) if not data : return False if \"missing permission\" in data : raise MissingPermission ( \"You don't have permission to access this API\" ) return True if data == b \"true\" else False async def fetch_info ( self , domain : str ) -> dict : \"\"\" Fetch's Information for a domain Parameters ---------- domain : str Domain you want to look for Returns ------- dict \"\"\" domain = domain . replace ( \"https://\" , \"\" ) . replace ( \"http://\" , \"\" ) data = await self . fetch ( Route ( \"GET\" , f \"/domains/info/ { domain } \" )) if not data : return {} success = data . get ( \"success\" , False ) if not success : if data . get ( \"message\" , \"\" ) == \"missing permission\" : raise InvalidRequest ( \"Invalid Request, Check your domain.\" ) return data [ domain ] async def report_phish ( self , domain : str , guild : t . Optional [ int ] = None ) -> bool : \"\"\" Report a site for phishing Parameters ---------- domain : str Domain you want to look for (Don't include 'https://') guild : t.Optional[int] Discord Guild ID you found the site link in Returns ------- bool \"\"\" data = None if guild : data = { \"guild\" : str ( guild )} status_code = await self . fetch ( Route ( \"POST\" , f \"/domains/report/ { domain } \" ), data = data ) if status_code == 204 : return True else : return False","title":"Client"},{"location":"code-reference/#phisherman.app.Client.__init__","text":"Construct an application Parameters: Name Type Description Default token str Phisherman.gg API Token required version t.Optional[int] Optional Argument for the API Version, Default to 1 for now 'to' Source code in phisherman/app.py def __init__ ( self , token : str ) -> None : \"\"\" Construct an application Parameters ---------- token : str Phisherman.gg API Token version : t.Optional[int] Optional Argument for the API Version, Default to 1 for now \"\"\" self . token = token self . _session = None self . _lock = asyncio . Lock ()","title":"__init__()"},{"location":"code-reference/#phisherman.app.Client.check_domain","text":"Checks a domain, Returns True if its suspicious else False NOTE: Even if it returns false doesn't mean the domain isn't suspicious it's just that the domain isn't registered in the API's Database or you might have entered incorrect domain Parameters: Name Type Description Default domain str Domain you want to look for (Don't include 'https://') required Source code in phisherman/app.py async def check_domain ( self , domain : str ) -> bool : \"\"\" Checks a domain, Returns True if its suspicious else False NOTE: Even if it returns false doesn't mean the domain isn't suspicious it's just that the domain isn't registered in the API's Database or you might have entered incorrect domain Parameters ---------- domain : str Domain you want to look for (Don't include 'https://') Returns ------- bool \"\"\" data = await self . fetch ( Route ( \"GET\" , f \"/domains/ { domain } \" ), auth_required = False ) if not data : return False if \"missing permission\" in data : raise MissingPermission ( \"You don't have permission to access this API\" ) return True if data == b \"true\" else False","title":"check_domain()"},{"location":"code-reference/#phisherman.app.Client.close","text":"Close the client session with this async function Source code in phisherman/app.py async def close ( self ) -> None : \"\"\"Close the client session with this async function\"\"\" if self . _session is not None : await self . _session . close ()","title":"close()"},{"location":"code-reference/#phisherman.app.Client.fetch","text":"Fetching a response from the API Parameters: Name Type Description Default route Route The API route you want to make a call to required Source code in phisherman/app.py async def fetch ( self , route : Route , ** kwargs ) -> t . Optional [ dict ]: \"\"\" Fetching a response from the API Parameters ---------- route : Route The API route you want to make a call to Returns ------- t.Optional[dict] \"\"\" headers = kwargs . pop ( \"headers\" , {}) data = kwargs . pop ( \"data\" , None ) text_response = kwargs . pop ( \"text_response\" , False ) return_status = kwargs . pop ( \"return_status\" , False ) auth_required = kwargs . pop ( \"auth_required\" , True ) headers = { \"User-Agent\" : self . USER_AGENT , ** headers } if auth_required : headers [ \"Authorization\" ] = f \"Bearer { self . token } \" if not self . _session : self . _session = aiohttp . ClientSession () async with self . _lock : async with self . _session . request ( route . method , route . url , headers = headers , data = data , ** kwargs ) as res : if return_status : return res . status if res . status == 200 or 201 : if text_response : data = await res . text () else : data = await res . json () else : data = None return data","title":"fetch()"},{"location":"code-reference/#phisherman.app.Client.fetch_info","text":"Fetch's Information for a domain Parameters: Name Type Description Default domain str Domain you want to look for required Source code in phisherman/app.py async def fetch_info ( self , domain : str ) -> dict : \"\"\" Fetch's Information for a domain Parameters ---------- domain : str Domain you want to look for Returns ------- dict \"\"\" domain = domain . replace ( \"https://\" , \"\" ) . replace ( \"http://\" , \"\" ) data = await self . fetch ( Route ( \"GET\" , f \"/domains/info/ { domain } \" )) if not data : return {} success = data . get ( \"success\" , False ) if not success : if data . get ( \"message\" , \"\" ) == \"missing permission\" : raise InvalidRequest ( \"Invalid Request, Check your domain.\" ) return data [ domain ]","title":"fetch_info()"},{"location":"code-reference/#phisherman.app.Client.report_phish","text":"Report a site for phishing Parameters: Name Type Description Default domain str Domain you want to look for (Don't include 'https://') required guild Optional[int] Discord Guild ID you found the site link in None Source code in phisherman/app.py async def report_phish ( self , domain : str , guild : t . Optional [ int ] = None ) -> bool : \"\"\" Report a site for phishing Parameters ---------- domain : str Domain you want to look for (Don't include 'https://') guild : t.Optional[int] Discord Guild ID you found the site link in Returns ------- bool \"\"\" data = None if guild : data = { \"guild\" : str ( guild )} status_code = await self . fetch ( Route ( \"POST\" , f \"/domains/report/ { domain } \" ), data = data ) if status_code == 204 : return True else : return False","title":"report_phish()"},{"location":"code-reference/#phisherman.route","text":"","title":"route"},{"location":"code-reference/#phisherman.route.Route","text":"Class used for constructing API endpoints with a given base URL Attributes: Name Type Description method str Method for the API Call path str Endpoints for the API Source code in phisherman/route.py class Route : \"\"\" Class used for constructing API endpoints with a given base URL Attributes ---------- method : str Method for the API Call path : str Endpoints for the API \"\"\" BASE_URL = \"https://api.phisherman.gg/v1\" def __init__ ( self , method : str , path : str ) -> None : \"\"\" Construct a route Parameters ---------- method : str Method for the API Call path : str Endpoints for the API \"\"\" self . method = method self . path = path @property def base_url ( self ) -> str : \"\"\"Base URL\"\"\" return self . BASE_URL @base_url . setter def base_url ( self , url : str ) -> None : \"\"\" Base URL setter Parameters ---------- url : str the URL you want to set \"\"\" self . BASE_URL = url @property def url ( self ) -> str : \"\"\"Return's the route i.e the base URL plus the given path\"\"\" return self . base_url + self . path","title":"Route"},{"location":"code-reference/#phisherman.route.Route.base_url","text":"Base URL","title":"base_url"},{"location":"code-reference/#phisherman.route.Route.url","text":"Return's the route i.e the base URL plus the given path","title":"url"},{"location":"code-reference/#phisherman.route.Route.__init__","text":"Construct a route Parameters: Name Type Description Default method str Method for the API Call required path str Endpoints for the API required Source code in phisherman/route.py def __init__ ( self , method : str , path : str ) -> None : \"\"\" Construct a route Parameters ---------- method : str Method for the API Call path : str Endpoints for the API \"\"\" self . method = method self . path = path","title":"__init__()"},{"location":"installation/","text":"Installation To install phisherman.py, run the following command from the command line: pip install phisherman.py","title":"Installation"},{"location":"installation/#installation","text":"To install phisherman.py, run the following command from the command line: pip install phisherman.py","title":"Installation"}]}